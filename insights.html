<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Insights - CPVerse (Dark Mode)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/3.0.3/plotly.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        gray: {
                            850: '#1f2937',
                            900: '#111827',
                            950: '#030712',
                        },
                        green: {
                            450: '#2ec4b6', // Custom teal-green
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #000000; color: #e5e7eb; }
        
        .insight-card { transition: all 0.3s ease; }
        .insight-card:hover { 
            transform: translateY(-4px); 
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.1); 
            border-color: #10b981;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #1f2937; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #10b981; }

        .skill-bar { background: linear-gradient(90deg, #10b981 0%, #059669 100%); }
        
        .recommendation-card { 
            background: #111827; 
            border: 1px solid #1f2937;
            transition: all 0.3s ease;
        }
        .recommendation-card:hover {
            border-color: #10b981;
            box-shadow: 0 0 15px rgba(16, 185, 129, 0.1);
        }

        .chart-container { min-height: 400px; }
        
        .ai-animation { animation: pulse 2s infinite; }
        @keyframes pulse {
            0%, 100% { opacity: 1; text-shadow: 0 0 10px #10b981; }
            50% { opacity: 0.7; text-shadow: 0 0 20px #10b981; }
        }

        /* Checkbox styling */
        input[type="checkbox"] {
            accent-color: #10b981;
            cursor: pointer;
        }
    </style>
</head>
<body class="min-h-screen">
    <nav class="bg-gray-900 border-b border-gray-800 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-8">
                    <div class="flex items-center space-x-2">
                        <div class="w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-700 rounded-lg flex items-center justify-center shadow-[0_0_10px_rgba(16,185,129,0.4)]">
                            <span class="text-black font-bold text-sm">CP</span>
                        </div>
                        <span class="text-xl font-bold text-white tracking-tight">CPVerse</span>
                    </div>
                    <div class="hidden md:flex items-center space-x-6">
                        <a href="dashboard.html" class="text-gray-400 hover:text-green-400 transition-colors">Dashboard</a>
                        <a href="contests.html" class="text-gray-400 hover:text-green-400 transition-colors">Contests</a>
                        <a href="practice.html" class="text-gray-400 hover:text-green-400 transition-colors">Practice</a>
                        <a href="insights.html" class="text-green-400 font-bold border-b-2 border-green-500 pb-1">Insights</a>
                        <a href="friends.html" class="text-gray-400 hover:text-green-400 transition-colors">Friends</a>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="profile.html" class="text-gray-400 hover:text-white transition-colors">Profile</a>
                    <div class="w-8 h-8 bg-gray-700 border border-green-900 rounded-full flex items-center justify-center text-green-400 font-bold text-sm">
                        LM
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="mb-8">
            <div class="flex items-center space-x-4 mb-4">
                <h1 class="text-3xl font-bold text-white">AI Insights</h1>
                <div class="ai-animation">
                    <span class="text-2xl">ü§ñ</span>
                </div>
            </div>
            <p class="text-gray-400">Personalized analysis and recommendations powered by artificial intelligence</p>
        </div>

        <div class="bg-gradient-to-r from-green-900 to-emerald-900 rounded-2xl p-8 text-white mb-8 border border-green-800 shadow-[0_0_20px_rgba(16,185,129,0.15)]">
            <div class="flex flex-col md:flex-row items-start md:items-center space-y-4 md:space-y-0 md:space-x-6">
                <div class="w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center text-3xl border border-green-500/30">
                    üß†
                </div>
                <div class="flex-1">
                    <h2 class="text-2xl font-bold mb-4 text-white">AI Analysis Summary</h2>
                    <p class="text-lg text-gray-300 mb-4">
                        Based on your recent 30-day practice data, you've shown strong improvement in dynamic programming and greedy algorithms. 
                        Your accuracy rate has increased by <span class="text-green-400 font-bold">8%</span> compared to the previous phase.
                    </p>
                    <div class="flex flex-wrap gap-3 text-sm">
                        <div class="bg-black/40 border border-green-500/30 px-3 py-1 rounded-full text-green-300">üìà Strong Growth</div>
                        <div class="bg-black/40 border border-green-500/30 px-3 py-1 rounded-full text-green-300">üéØ Focused Practice</div>
                        <div class="bg-black/40 border border-green-500/30 px-3 py-1 rounded-full text-green-300">‚ö° Quick Learner</div>
                    </div>
                </div>
                <button class="bg-white text-green-900 px-6 py-3 rounded-lg font-bold hover:bg-green-100 transition-colors shadow-lg">
                    üîÑ Generate New Insights
                </button>
            </div>
        </div>

        <div class="grid lg:grid-cols-2 gap-8 mb-8">
            <div class="bg-gray-900 rounded-2xl p-6 shadow-lg border border-gray-800">
                <h3 class="text-xl font-bold text-white mb-6">Skill Proficiency Radar</h3>
                <div id="skillRadarChart" class="chart-container"></div>
            </div>

            <div class="bg-gray-900 rounded-2xl p-6 shadow-lg border border-gray-800">
                <h3 class="text-xl font-bold text-white mb-6">Skill Breakdown</h3>
                <div class="space-y-6">
                    <div class="skill-item">
                        <div class="flex items-center justify-between mb-2">
                            <span class="font-medium text-gray-300">Dynamic Programming</span>
                            <span class="text-green-400 font-bold">85%</span>
                        </div>
                        <div class="w-full bg-gray-800 rounded-full h-3">
                            <div class="skill-bar h-3 rounded-full shadow-[0_0_10px_rgba(16,185,129,0.5)]" style="width: 85%"></div>
                        </div>
                        <div class="text-sm text-gray-500 mt-1">Strong understanding of patterns and optimization</div>
                    </div>

                    <div class="skill-item">
                        <div class="flex items-center justify-between mb-2">
                            <span class="font-medium text-gray-300">Greedy Algorithms</span>
                            <span class="text-blue-400 font-bold">72%</span>
                        </div>
                        <div class="w-full bg-gray-800 rounded-full h-3">
                            <div class="bg-blue-600 h-3 rounded-full" style="width: 72%"></div>
                        </div>
                        <div class="text-sm text-gray-500 mt-1">Good intuition for optimal choices</div>
                    </div>

                    <div class="skill-item">
                        <div class="flex items-center justify-between mb-2">
                            <span class="font-medium text-gray-300">Mathematics</span>
                            <span class="text-yellow-500 font-bold">68%</span>
                        </div>
                        <div class="w-full bg-gray-800 rounded-full h-3">
                            <div class="bg-yellow-600 h-3 rounded-full" style="width: 68%"></div>
                        </div>
                        <div class="text-sm text-gray-500 mt-1">Solid foundation, room for improvement</div>
                    </div>

                    <div class="skill-item">
                        <div class="flex items-center justify-between mb-2">
                            <span class="font-medium text-gray-300">Graph Theory</span>
                            <span class="text-red-400 font-bold">60%</span>
                        </div>
                        <div class="w-full bg-gray-800 rounded-full h-3">
                            <div class="bg-red-600 h-3 rounded-full" style="width: 60%"></div>
                        </div>
                        <div class="text-sm text-gray-500 mt-1">Needs more practice with complex algorithms</div>
                    </div>

                    <div class="skill-item">
                        <div class="flex items-center justify-between mb-2">
                            <span class="font-medium text-gray-300">Data Structures</span>
                            <span class="text-teal-400 font-bold">78%</span>
                        </div>
                        <div class="w-full bg-gray-800 rounded-full h-3">
                            <div class="bg-teal-600 h-3 rounded-full" style="width: 78%"></div>
                        </div>
                        <div class="text-sm text-gray-500 mt-1">Good command of advanced structures</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="mb-8">
            <h3 class="text-2xl font-bold text-white mb-6">Personalized Recommendations</h3>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="recommendation-card rounded-xl p-6">
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-10 h-10 bg-red-900/50 border border-red-700 rounded-lg flex items-center justify-center text-white text-lg">
                            üìä
                        </div>
                        <div>
                            <h4 class="font-bold text-white">Focus Area</h4>
                            <p class="text-sm text-gray-400">Graph Theory</p>
                        </div>
                    </div>
                    <p class="text-gray-400 mb-4">
                        Your graph theory skills need improvement. Focus on BFS/DFS applications and shortest path algorithms.
                    </p>
                    <div class="flex items-center justify-between">
                        <span class="text-sm text-red-400 font-medium">Priority: High</span>
                        <button class="text-red-400 hover:text-red-300 text-sm font-medium">
                            View Problems ‚Üí
                        </button>
                    </div>
                </div>

                <div class="recommendation-card rounded-xl p-6">
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-10 h-10 bg-blue-900/50 border border-blue-700 rounded-lg flex items-center justify-center text-white text-lg">
                            üéØ
                        </div>
                        <div>
                            <h4 class="font-bold text-white">Practice Plan</h4>
                            <p class="text-sm text-gray-400">30-Day Challenge</p>
                        </div>
                    </div>
                    <p class="text-gray-400 mb-4">
                        Structured practice plan focusing on your weak areas with daily problem recommendations.
                    </p>
                    <div class="flex items-center justify-between">
                        <span class="text-sm text-blue-400 font-medium">15 problems/week</span>
                        <button class="text-blue-400 hover:text-blue-300 text-sm font-medium">
                            Start Plan ‚Üí
                        </button>
                    </div>
                </div>

                <div class="recommendation-card rounded-xl p-6">
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-10 h-10 bg-green-900/50 border border-green-700 rounded-lg flex items-center justify-center text-white text-lg">
                            üèÜ
                        </div>
                        <div>
                            <h4 class="font-bold text-white">Contest Strategy</h4>
                            <p class="text-sm text-gray-400">Next Contest</p>
                        </div>
                    </div>
                    <p class="text-gray-400 mb-4">
                        Based on your skill profile, target Codeforces Div. 2 contests for optimal rating growth.
                    </p>
                    <div class="flex items-center justify-between">
                        <span class="text-sm text-green-400 font-medium">Expected: +50</span>
                        <button class="text-green-400 hover:text-green-300 text-sm font-medium">
                            View Schedule ‚Üí
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid lg:grid-cols-2 gap-8 mb-8">
            <div class="bg-gray-900 rounded-2xl p-6 shadow-lg border border-gray-800">
                <h3 class="text-xl font-bold text-white mb-6">Performance Trends</h3>
                <div id="performanceChart" class="chart-container"></div>
            </div>

            <div class="bg-gray-900 rounded-2xl p-6 shadow-lg border border-gray-800">
                <h3 class="text-xl font-bold text-white mb-6">Learning Velocity</h3>
                <div class="space-y-6">
                    <div class="flex items-center space-x-4">
                        <div class="w-12 h-12 bg-green-900/20 border border-green-800 rounded-lg flex items-center justify-center">
                            <span class="text-green-400 text-xl">üìà</span>
                        </div>
                        <div class="flex-1">
                            <div class="font-medium text-white">Problem Solving Speed</div>
                            <div class="text-sm text-gray-500">15% faster than last month</div>
                        </div>
                        <div class="text-green-400 font-bold">+15%</div>
                    </div>

                    <div class="flex items-center space-x-4">
                        <div class="w-12 h-12 bg-blue-900/20 border border-blue-800 rounded-lg flex items-center justify-center">
                            <span class="text-blue-400 text-xl">üéØ</span>
                        </div>
                        <div class="flex-1">
                            <div class="font-medium text-white">Accuracy Rate</div>
                            <div class="text-sm text-gray-500">78% - Above average</div>
                        </div>
                        <div class="text-blue-400 font-bold">78%</div>
                    </div>

                    <div class="flex items-center space-x-4">
                        <div class="w-12 h-12 bg-teal-900/20 border border-teal-800 rounded-lg flex items-center justify-center">
                            <span class="text-teal-400 text-xl">‚ö°</span>
                        </div>
                        <div class="flex-1">
                            <div class="font-medium text-white">Concept Mastery</div>
                            <div class="text-sm text-gray-500">Rapid improvement in DP</div>
                        </div>
                        <div class="text-teal-400 font-bold">Fast</div>
                    </div>

                    <div class="flex items-center space-x-4">
                        <div class="w-12 h-12 bg-orange-900/20 border border-orange-800 rounded-lg flex items-center justify-center">
                            <span class="text-orange-500 text-xl">üî•</span>
                        </div>
                        <div class="flex-1">
                            <div class="font-medium text-white">Consistency</div>
                            <div class="text-sm text-gray-500">12-day active streak</div>
                        </div>
                        <div class="text-orange-500 font-bold">High</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="bg-gray-900 rounded-2xl p-6 shadow-lg border border-gray-800">
            <h3 class="text-xl font-bold text-white mb-6">Weekly Goals</h3>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="space-y-4">
                    <div class="flex items-center space-x-3">
                        <input type="checkbox" checked class="w-5 h-5 rounded bg-gray-800 border-gray-600">
                        <span class="text-gray-300">Solve 5 graph theory problems</span>
                        <span class="text-green-400 text-sm">(3/5)</span>
                    </div>
                    <div class="flex items-center space-x-3">
                        <input type="checkbox" checked class="w-5 h-5 rounded bg-gray-800 border-gray-600">
                        <span class="text-gray-300">Participate in 2 contests</span>
                        <span class="text-green-400 text-sm">(2/2)</span>
                    </div>
                    <div class="flex items-center space-x-3">
                        <input type="checkbox" class="w-5 h-5 rounded bg-gray-800 border-gray-600">
                        <span class="text-gray-300">Master segment trees</span>
                        <span class="text-gray-600 text-sm">(0/1)</span>
                    </div>
                </div>
                <div class="space-y-4">
                    <div class="flex items-center space-x-3">
                        <input type="checkbox" checked class="w-5 h-5 rounded bg-gray-800 border-gray-600">
                        <span class="text-gray-300">Review 10 previous problems</span>
                        <span class="text-green-400 text-sm">(8/10)</span>
                    </div>
                    <div class="flex items-center space-x-3">
                        <input type="checkbox" class="w-5 h-5 rounded bg-gray-800 border-gray-600">
                        <span class="text-gray-300">Complete daily challenges</span>
                        <span class="text-gray-600 text-sm">(4/7)</span>
                    </div>
                    <div class="flex items-center space-x-3">
                        <input type="checkbox" class="w-5 h-5 rounded bg-gray-800 border-gray-600">
                        <span class="text-gray-300">Write editorial for one problem</span>
                        <span class="text-gray-600 text-sm">(0/1)</span>
                    </div>
                </div>
            </div>
            <div class="mt-6 pt-6 border-t border-gray-800">
                <div class="flex items-center justify-between">
                    <div class="text-sm text-gray-400">
                        Progress: <span class="font-bold text-green-400">58%</span> complete
                    </div>
                    <button class="bg-green-600 text-black px-4 py-2 rounded-lg font-bold hover:bg-green-500 hover:shadow-[0_0_15px_rgba(16,185,129,0.4)] transition-all">
                        Update Goals
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Skill Radar Chart
        const skillData = [{
            type: 'scatterpolar',
            r: [85, 72, 68, 60, 78, 75, 82],
            theta: ['DP', 'Greedy', 'Math', 'Graphs', 'Data Struct', 'Strings', 'Impl.'],
            fill: 'toself',
            name: 'Current Skills',
            // Changed Line Color to Green
            line: { color: '#10b981' },
            // Changed Fill to transparent Green
            fillcolor: 'rgba(16, 185, 129, 0.2)' 
        }];

        const skillLayout = {
            polar: {
                bgcolor: 'rgba(0,0,0,0)',
                radialaxis: {
                    visible: true,
                    range: [0, 100],
                    tickfont: { size: 10, color: '#9ca3af' }, // Gray ticks
                    gridcolor: '#374151', // Dark grid
                    linecolor: '#374151'
                },
                angularaxis: {
                    tickfont: { size: 12, color: '#e5e7eb' }, // White labels
                    gridcolor: '#374151',
                    linecolor: '#374151'
                }
            },
            showlegend: false,
            margin: { t: 20, r: 40, b: 20, l: 40 },
            plot_bgcolor: 'rgba(0,0,0,0)',
            paper_bgcolor: 'rgba(0,0,0,0)',
            font: { color: '#fff' }
        };

        Plotly.newPlot('skillRadarChart', skillData, skillLayout, { responsive: true, displayModeBar: false });

        // Performance Trends Chart
        const performanceData = [
            {
                x: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
                y: [65, 72, 78, 85],
                name: 'DP Skills',
                type: 'scatter',
                mode: 'lines+markers',
                // Changed Purple to Green
                line: { color: '#10b981', width: 3 },
                marker: { size: 8, color: '#10b981' }
            },
            {
                x: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
                y: [58, 60, 65, 72],
                name: 'Graph Skills',
                type: 'scatter',
                mode: 'lines+markers',
                // Keep Red
                line: { color: '#ef4444', width: 3 },
                marker: { size: 8, color: '#ef4444' }
            },
            {
                x: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
                y: [70, 75, 80, 82],
                name: 'Overall',
                type: 'scatter',
                mode: 'lines+markers',
                // Changed Green to White/Gray for contrast against the specific Green line
                line: { color: '#9ca3af', width: 2, dash: 'dot' },
                marker: { size: 6, color: '#9ca3af' }
            }
        ];

        const performanceLayout = {
            xaxis: { 
                title: 'Time Period',
                gridcolor: '#374151',
                tickfont: { color: '#9ca3af' },
                titlefont: { color: '#d1d5db' }
            },
            yaxis: { 
                title: 'Skill Level (%)',
                gridcolor: '#374151',
                tickfont: { color: '#9ca3af' },
                titlefont: { color: '#d1d5db' }
            },
            showlegend: true,
            legend: { x: 0, y: 1, font: { color: '#e5e7eb' } },
            margin: { t: 20, r: 20, b: 50, l: 50 },
            plot_bgcolor: 'rgba(0,0,0,0)',
            paper_bgcolor: 'rgba(0,0,0,0)'
        };

        Plotly.newPlot('performanceChart', performanceData, performanceLayout, { responsive: true, displayModeBar: false });

        // Animate cards on load
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.insight-card, .recommendation-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    card.style.transition = 'all 0.6s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 200);
            });
        });

        // Generate new insights functionality
        document.querySelector('button').addEventListener('click', function() {
            const originalText = this.textContent;
            this.textContent = 'üîÑ Analyzing...';
            this.disabled = true;
            this.classList.add('opacity-75', 'cursor-not-allowed');
            
            setTimeout(() => {
                this.textContent = '‚úÖ Updated!';
                showNotification('AI insights have been refreshed with latest data!', 'success');
                
                setTimeout(() => {
                    this.textContent = originalText;
                    this.disabled = false;
                    this.classList.remove('opacity-75', 'cursor-not-allowed');
                }, 2000);
            }, 3000);
        });

        function showNotification(message, type) {
            const notification = document.createElement('div');
            // Updated colors for dark mode
            const bgClass = type === 'success' ? 'bg-green-600 text-black font-bold' : 'bg-blue-600 text-white';
            
            notification.className = `fixed top-24 right-4 z-50 px-6 py-3 rounded-lg shadow-2xl transition-all duration-300 transform translate-x-full flex items-center gap-2 ${bgClass}`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Slight delay to allow DOM insertion before animating in
            requestAnimationFrame(() => {
                notification.classList.remove('translate-x-full');
            });
            
            setTimeout(() => {
                notification.classList.add('translate-x-full', 'opacity-0');
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }
    </script>
</body>
</html>